
<div class="wrapper">
  <div class="container text-center">
    <div class="container-pages-index">
      <% if logged_in? %>
        <div class="clock">
            <p><span id="time"></span></p>
            <p><span id="year"></span></p>
        </div>

      <% else %>

      <div class="pages-index-show pages-index-logo">
          <h1>
            Ankey
          </h1>
      </div>

      <div class="pages-index-show pages-index-text">
          <p>
            This application is the most useful assistant for study.
          </p>
      </div>

      <div class="row row-login-signup pages-index container-background-black">
        <h2>Welcome To Ankey</h2>
          <p>TThis application is the most useful assistant for study.</p>
          <div class="col-md-offset-3 col-md-3">
            <%= link_to "Log In", login_path, class: "btn pages-index-btn" %>
          </div>
          <div class="col-md-3">
            <%= link_to "Sign Up", signup_path, class: "btn pages-index-btn" %>
          </div>
      </div>

      <% end %>

    </div>
  </div>
</div>


<script>
function set2fig(num) {
   // 桁数が1桁だったら先頭に0を加えて2桁に調整する
   var ret;
   if( num < 10 ) { ret = "0" + num; }
   else { ret = num; }
   return ret;
}
// 時間表示
function nowTime() {
   var nowTime = new Date();
   var nowHour = set2fig( nowTime.getHours() );
   var nowMin  = set2fig( nowTime.getMinutes() );
   var nowSec  = set2fig( nowTime.getSeconds() );
   var msg = nowHour + ":" + nowMin + ":" + nowSec;
   document.getElementById("time").innerHTML = msg;

   var nowYear = nowTime.getFullYear();
   var nowMonth = nowTime.getMonth();
   var mNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
   var monthEn = mNames[nowMonth];
   var nowDay = nowTime.getDate();
   var nowWeek = nowTime.getDay();
   var wNames = ['Sun.', 'Mon.', 'Tues.','Wed', 'Thurs.', 'Fri.', 'Sat.'];
   var weekEn = wNames[nowWeek];
   var nowDate = weekEn + " " + monthEn + " " + nowDay + " " + nowYear;
   document.getElementById("year").innerHTML = nowDate;
}
setInterval('nowTime()',1000);
</script>
<script>
$.when (
  $('.wrapper').parents('body').css('background-color', '#191919').css('background-image', 'none' ),
  $('.pages-index-logo').fadeIn(400),
  $('.pages-index-logo').fadeOut(300)
)
.done(function() {
  $.when (
    $('.pages-index-text').fadeIn(400),
    $('.pages-index-text').fadeOut(200)
  )
  .done(function() {
    $('.wrapper').parents('body').css('background-image', ''),
    $('.wrapper').parents('body').css('background-color', 'none'),
    $('.pages-index').fadeIn(400)
  });
});
</script>
